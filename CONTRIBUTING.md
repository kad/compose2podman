# Contributing to compose2podman

> **ðŸ“ Note on Project Origin**
>
> This project was **completely generated by GitHub Copilot** as a proof-of-concept demonstration.
> It has NOT been tested with real-world Docker Compose files and is NOT production-ready.
>
> **Contributions are highly encouraged to:**
> - Add comprehensive real-world testing
> - Fix bugs and edge cases
> - Improve Docker Compose feature coverage
> - Add validation and error handling
> - Conduct security audits
> - Make it production-ready

Thank you for your interest in contributing! This document provides guidelines for contributing to the project.

## Getting Started

1. **Fork the repository** on GitHub
2. **Clone your fork** locally:
   ```bash
   git clone https://github.com/YOUR-USERNAME/compose2podman.git
   cd compose2podman
   ```
3. **Install dependencies**:
   ```bash
   go mod download
   ```

## Development Workflow

### Building

```bash
# Quick build
make build

# Build with version info
make build-version

# Test release build (all platforms)
make snapshot
```

### Making Changes

1. Create a feature branch:
   ```bash
   git checkout -b feature/your-feature-name
   ```

2. Make your changes, following the coding standards below

3. Run tests and checks:
   ```bash
   make check        # Run formatting, vet, and tests
   make test-race    # Run tests with race detector
   ```

4. Commit your changes:
   ```bash
   git add .
   git commit -m "feat: add your feature description"
   ```

5. Push to your fork:
   ```bash
   git push origin feature/your-feature-name
   ```

6. Open a Pull Request on GitHub

### Commit Message Format

Use [Conventional Commits](https://www.conventionalcommits.org/):

- `feat:` - New feature
- `fix:` - Bug fix
- `docs:` - Documentation changes
- `test:` - Test additions or modifications
- `refactor:` - Code refactoring
- `chore:` - Build process or tooling changes

Example: `feat: add support for healthcheck in Kubernetes output`

## Coding Standards

### Go Style Guide

- Follow the [Effective Go](https://golang.org/doc/effective_go) guidelines
- Use `gofmt` for formatting (run `make fmt`)
- Run `go vet` to catch common issues (run `make vet`)
- Aim for > 80% test coverage on new code

### Code Quality

Before submitting a PR, ensure:

```bash
# Format code
make fmt

# Run linters
make vet

# Run tests
make test

# Optional: Run linter if you have golangci-lint installed
make lint
```

### Writing Tests

- Place tests in `*_test.go` files alongside the code they test
- Use table-driven tests for multiple scenarios
- Test both success and error cases
- Example:

```go
func TestFunction(t *testing.T) {
    tests := []struct {
        name     string
        input    string
        expected string
    }{
        {"basic case", "input1", "output1"},
        {"edge case", "input2", "output2"},
    }
    
    for _, tt := range tests {
        t.Run(tt.name, func(t *testing.T) {
            result := Function(tt.input)
            if result != tt.expected {
                t.Errorf("expected %s, got %s", tt.expected, result)
            }
        })
    }
}
```

## Project Structure

```
compose2podman/
â”œâ”€â”€ cmd/compose2podman/    # Main application
â”œâ”€â”€ pkg/                   # Public packages
â”‚   â”œâ”€â”€ parser/           # Docker Compose parser
â”‚   â”œâ”€â”€ kube/             # Kubernetes YAML generator
â”‚   â””â”€â”€ quadlet/          # Quadlet file generator
â”œâ”€â”€ internal/types/        # Internal type definitions
â””â”€â”€ testdata/             # Test fixtures
```

## What to Contribute

### Good First Issues

- Add support for additional Docker Compose fields
- Improve error messages
- Add more test cases
- Documentation improvements

### Feature Ideas

- Support for Docker Compose v2 format
- Better handling of build contexts
- Validation of generated files
- Interactive mode for selecting output format
- Template customization

### Testing

- Add test cases for edge cases
- Test with real-world docker-compose files
- Integration tests with actual Podman

## Questions or Problems?

- Open an issue for bugs or feature requests
- Check existing issues before creating a new one
- Be clear and provide examples when possible

## Code Review Process

All submissions require review. We use GitHub Pull Requests for this purpose.

Reviewers will check for:
- Code quality and adherence to Go standards
- Test coverage
- Documentation completeness
- Commit message format

## License

By contributing, you agree that your contributions will be licensed under the MIT License.

## Release Process

Maintainers handle releases. See [BUILDING.md](BUILDING.md) for details on the release process.

Releases are automated via GitHub Actions when a version tag is pushed.
